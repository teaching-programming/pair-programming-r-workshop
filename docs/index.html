<!DOCTYPE html><html><head><head><link rel='stylesheet' type='text/css' href='style.css'></head><head><body><h1>Pair Pogramming Exercises</h1><p>In the following exercises, you will be working with your partner(s) through a series of exercises demonstrating how to write functions in R.</br>Do not worry if you do not get through all of the exercises. Switch the driver and navigator(s) roles after each exercise.</br>                            </br>To make the coding window bigger, drag the little gray triangle in the bottom right corner of the code box</p><div height='800px'><h1>Exercise 1.1: Warmup (what are functions)</h1><div ><div class='exercise-hint'><p>## Solved Example 1.1: Functions in R are 'code shortcuts' to common things you want to do.</br></br>Functions 'take' some inputs/variables in round brackets; then perform some operations on those inputs in { } and then return one value with return(...).</br></br>add <- function( first_argument, second_argument ) {</br>  result <- first_argument + second_argument</br>  return(result)</br>}</br></br>Once defined, you can use your function ('run it') many times with different inputs. This saves you copy-pasting code.</br></br>result1 <- add( 4, 6 )</br>result2 <- add( 9, 7 )</br>result3 <- add( result1, result2 )</br></br>Read the following code and discuss with your partner(s) what it does. </p></div><div class='exercise-code'><iframe width='100%' height='800px' src='https://rdrr.io/snippets/embed/?code=%23%23%20Exercise%201.1%0A%0Anumber_of_full_dozens%20%3C-%20function%28%20number_of_eggs%20%29%20%7B%0A%20%20full_dozens%20%3C-%20number_of_eggs%20%25%2F%25%2012%20%23%20%25%2F%25%20means%20%22divide%20and%20keep%20integer%22%0A%20%20return%28full_dozens%29%0A%7D%0A%0Aprint%28%22below%20should%20return%3A%200%2C1%2C2%2C8%22%29%0Anumber_of_full_dozens%2811%29%0Anumber_of_full_dozens%2812%29%0Anumber_of_full_dozens%2825%29%0Anumber_of_full_dozens%28100%29%0A%0A%0A%0Ais_first_larger%20%3C-%20function%28%20first%2C%20second%20%29%20%7B%0A%20%20return%28first%20%3E%20second%29%0A%7D%0A%0Aprint%28%22below%20should%20return%3A%20FALSE%2C%20TRUE%2C%20FALSE%22%29%0Ais_first_larger%2811%2C12%29%0Ais_first_larger%2812%2C11%29%0Ais_first_larger%2812%2C12%29%0A' frameborder='0'></iframe></div></div></div> <div height='800px'><h1>Exercise 1.2: Unit conversion</h1><div ><div class='exercise-hint'><p>## Exercise 1.2: Create a function called `convert_temperature_CtoF` that takes a numeric value (a temperature in Celsius) as the argument, and returns the temperature in Fahrenheit</br></br>To get Fahrenheit you need to multiply Celsius by 9, then divide by 5 and then add 32.</br></br>e.g., 10 Celsius is 50 Fahrenheit because  10 * 9 / 5 + 32 = 50</br></br>Return values rounded with round( )</p></div><div class='exercise-code'><iframe width='100%' height='800px' src='https://rdrr.io/snippets/embed/?code=%23%23%20Exercise%201.2%3A%0A%0Aconvert_temp_CtoF%20%3C-%20function%28%20something%20%29%20%7B%0A%20%20result%20%3C-%20something%20%2B%20something%0A%20%20return%28result%29%0A%7D%0A%0Aprint%28%22below%20should%20return%3A%2032%2C50%2C99%2C212%22%29%0Aconvert_temp_CtoF%280%29%0Aconvert_temp_CtoF%2810%29%0Aconvert_temp_CtoF%2837%29%0Aconvert_temp_CtoF%28100%29' frameborder='0'></iframe></div></div></div> <div height='800px'><h1>Exercise 1.3: Unit conversion</h1><div ><div class='exercise-hint'><p>## Exercise 1.3: Now create a function for conversion the other way called `convert_temp_FtoC` that takes a numeric value (a temperature in Fahrenheit) as the argument.</br></br>To get this result, just flip the math from previous task. You can do it!</br></br>Return values rounded with round( )</p></div><div class='exercise-code'><iframe width='100%' height='800px' src='https://rdrr.io/snippets/embed/?code=%23%23%20Exercise%201.3%0A%0A%23%20your%20code%20here%0A%0A%0Aprint%28%22below%20should%20return%3A%20-18%2C-12%2C3%2C38%22%29%0Aconvert_temp_FtoC%280%29%0Aconvert_temp_FtoC%2810%29%0Aconvert_temp_FtoC%2837%29%0Aconvert_temp_FtoC%28100%29' frameborder='0'></iframe></div></div></div> <div height='800px'><h1>Exercise 1.4: Unit conversion</h1><div ><div class='exercise-hint'><p>## Exercise 1.4 Using your solutions above as a guide, create a function called `convert_length_INtoCM` that takes a numeric value (a unit of length in inches) as the argument. </br></br># HINT: the inches to cm formula: cm = inches * 2.54 </p></div><div class='exercise-code'><iframe width='100%' height='800px' src='https://rdrr.io/snippets/embed/?code=%23%23%20Exercise%201.4%0A%0A%23%20your%20code%20here%0A%0A%0Aprint%28%22below%20should%20return%3A%203%2C10%2C25%2C99%22%29%0Aconvert_length_INtoCM%281%29%0Aconvert_length_INtoCM%284%29%0Aconvert_length_INtoCM%2810%29%0Aconvert_length_INtoCM%2839%29' frameborder='0'></iframe></div></div></div> <div height='800px'><h1>Exercise 2.1: Functions with Multiple Arguments</h1><div ><div class='exercise-hint'><p>## Exercise 2.1 Create a function called `which_is_larger` which determines which of the 2 numeric inputs is larger.</br></br>Return a string telling what happened. See tests for the exact format of expected outputs.</p></div><div class='exercise-code'><iframe width='100%' height='800px' src='https://rdrr.io/snippets/embed/?code=%23%23%23%23%20Exercise%202.1%3A%20%0A%0Awhich_is_larger%20%3C-%20function%20%28%20give_this_better_name%20%2C%20and_this_too%20%29%7B%0A%20%20if%28%20...%20%29%0A%20%20%20%20return%28...%29%0A%20%20else%20if%28...%29%0A%20%20%20%20return%28...%29%0A%20%20else%20%0A%20%20%20%20return%28...%29%0A%7D%0A%0Aprint%28%22below%20should%20return%20strings%3A%20%27second%27%2C%27first%27%2C%27they%27re%20the%20same%21%27%22%29%0Awhich_is_larger%284%2C%205%29%0Awhich_is_larger%285%2C%204%29%0Awhich_is_larger%285%2C%205%29' frameborder='0'></iframe></div></div></div> <div height='800px'><h1>Exercise 2.2: Functions with Multiple Arguments</h1><div ><div class='exercise-hint'><p>## Exercise 2.2:</br></br>Create a function called `which_is_largest` that checks 3 numbers and tells you which one is largest by returning a character string 'first', 'second' or 'third'. </br></br>If there are ANY two identical numbers, just return a string "oh no!"</p></div><div class='exercise-code'><iframe width='100%' height='800px' src='https://rdrr.io/snippets/embed/?code=%23%23%23%23%20Exercise%202.2%3A%20%0A%0Awhich_is_largest%20%3C-%20function%20%28%20first%2C%20second%2C%20third%20%29%7B%0A%20%20return%28%22banana%22%29%0A%7D%0A%0Aprint%28%22below%20should%20return%20strings%3A%20%27oh%20no%21%27%2C%20%27oh%20no%21%27%2C%20%27oh%20no%21%27%22%29%0Awhich_is_largest%285%2C%205%2C%206%29%20%23%20oh%20no%20%0Awhich_is_largest%285%2C%206%2C%206%29%20%23%20oh%20no%20%0Awhich_is_largest%286%2C%206%2C%206%29%20%23%20oh%20no%20%0A%0Aprint%28%22below%20should%20return%20strings%3A%20%27third%27%2C%27second%27%2C%27first%27%22%29%0Awhich_is_largest%284%2C%205%2C%206%29%20%23%20third%0Awhich_is_largest%284%2C%2050%2C%206%29%20%23second%0Awhich_is_largest%2840%2C%205%2C%206%29%20%23first' frameborder='0'></iframe></div></div></div> <div height='800px'><h1>Exercise 3.1: Functions and Vectorisation</h1><div ><div class='exercise-hint'><p>## Solved Exercise 3.1:</br></br>Complete two example functions `twice` and `is_positive` in the code box</p></div><div class='exercise-code'><iframe width='100%' height='800px' src='https://rdrr.io/snippets/embed/?code=%23%23%20Exercise%203.1%3A%20%0A%0Atwice%20%3C-%20function%28num%29%7B%0A%20%20return%28....%29%20%0A%7D%0A%0Aprint%28%22below%20should%20return%3A%204%2C%2088%22%29%0Atwice%282%29%0Atwice%2844%29%0A%0Ais_positive%20%3C-%20function%28num%29%7B%0A%20%20if%28....%29%7B%0A%20%20%20%20return%28....%29%0A%20%20%7D%20else%7B%0A%20%20%20%20return%28....%29%0A%20%20%7D%0A%7D%20%0A%20%0Aprint%28%22below%20should%20return%3A%20FALSE%2C%20TRUE%22%29%0Ais_positive%28-20%29%0Ais_positive%2850%29' frameborder='0'></iframe></div></div></div> <div height='800px'><h1>Exercise 3.2: Functions and Vectorisation</h1><div ><div class='exercise-hint'><p>## Exercise 3.2</br></br>One at the time, uncomment the tests ONE AT THE TIME and see what happens. Discuss with your partner(s).</br> </br>~ Only after running the tests and exploring the output, read below ~ </br></br></br>... oh no, an error! ...</br></br>Not to to fear!</br></br>Most functions in R are vectorized, meaning that the function will operate on all elements of a vector without needing to loop through and act on each element one at a time.</br></br>if else statements are *NOT* vectorized, hence the above error. However, the * (multiplication operator) is vectorized, which is why the twice function works with the values vector!</br></br>Vectorization is a real superpower of R! It makes writing code more concise, easy to read, and less error prone.</br></br>There is a vectorized if else statement in R, ifelse(), which we show in the is_positive_vectorized() function as well.  </p></div><div class='exercise-code'><iframe width='100%' height='800px' src='https://rdrr.io/snippets/embed/?code=%23%20Exercise%203.2%3A%20%0A%0Atwice%20%3C-%20function%28num%29%7B%0A%20%20return%28num%20%2A2%29%20%0A%7D%0A%0Ais_positive%20%3C-%20function%28num%29%7B%0A%20%20if%28num%20%3E%200%29%7B%0A%20%20%20%20return%28TRUE%29%0A%20%20%7D%20else%7B%0A%20%20%20%20return%28FALSE%29%0A%20%20%7D%0A%7D%20%0A%0A%23%20uncomment%20the%20tests%20ONE%20AT%20THE%20TIME%20and%20see%20what%20happens.%0A%0Avalues%20%3C-%20c%2845%2C%20-60%2C%20150%2C%20-85%2C%2020%29%0A%23%20twice%28values%29%0A%23%20is_positive%28values%29%0A%0A%0A%23%20Vectorized%20solution%20%0Ais_positive_vectorized%20%3C-%20function%28num%29%7B%0A%20%20%23%20either%0A%20%20ifelse%28num%20%3E%200%2C%20TRUE%2C%20FALSE%29%0A%20%20%23%20or%2C%20even%20better%2C%20because%20%3E%20is%20vectorized%2C%20just%0A%20%20%23%20num%20%3E%200%0A%7D%0A%0Ais_positive_vectorized%28values%29%0A%0A%0A' frameborder='0'></iframe></div></div></div> <div height='800px'><h1>Exercise 4.1: Functions and Graphs</h1><div ><div class='exercise-hint'><p>## Solved Example 4.1</br></br>In this exercise, we will be using a function to programmatically change the colors of a plot. Have a look at the starting code, discuss what you think it does with your partner(s), and move on to the next section.</p></div><div class='exercise-code'><iframe width='100%' height='800px' src='https://rdrr.io/snippets/embed/?code=%23%20Exercise%204.1%3A%20starting%20code.%0A%23%20Have%20a%20read%20and%20run%20it.%20What%20does%20it%20do%3F%0A%0Alibrary%28ggplot2%29%0Alibrary%28purrr%29%0A%0Afruit_data%20%3C-%20data.frame%28%0A%20%20fruit%20%3D%20c%28%22Apples%22%2C%20%22Bananas%22%2C%20%22Cherries%22%2C%20%22Blueberries%22%2C%20%22Oranges%22%29%2C%0A%20%20sales%20%3D%20c%28100%2C%20150%2C%208%2C%2058%2C%2090%29%0A%29%0A%0Aggplot%28data%20%3D%20fruit_data%2C%20aes%28x%20%3D%20fruit%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%20%3D%20sales%29%29%20%2B%20%0A%20%20geom_col%28%29' frameborder='0'></iframe></div></div></div> <div height='800px'><h1>Exercise 4.2: Functions and Graphs</h1><div ><div class='exercise-hint'><p>## Exercise 4.2 </br></br>It's your turn now! </br></br>Create a function called `categorize_and_color` that takes a number as input and returns a character string with the name of a color (e.g., 'red', 'orange' or 'green') based on some logic (decide on the logic with your partner(s)). It's up to you to come up with the logic rules.</br></br></br>All other code is already written for you - just complete the body of the function `categorize_and_color`.</p></div><div class='exercise-code'><iframe width='100%' height='800px' src='https://rdrr.io/snippets/embed/?code=%23%23%23%23%20Exercise%204.2%3A%20%0A%0Alibrary%28ggplot2%29%0Alibrary%28purrr%29%0A%0A%23%20START%20your%20code%20here.%20Maybe%20start%20with%20some%20%27testing%20prints%27%3F%0A%0Acategorize_and_color%20%3C-%20....%0A%0A%23%20END%20your%20code%20here.%0A%0A%23%20and%20now%20we%20will%20use%20your%20function%20to%20add%20a%20column%20and%20then%20use%20that%20in%20the%20graph%20as%20our%20color%20fill%20aesthetic.%0Afruit_data%20%3C-%20data.frame%28%0A%20%20fruit%20%3D%20c%28%22Apples%22%2C%20%22Bananas%22%2C%20%22Cherries%22%2C%20%22Blueberries%22%2C%20%22Oranges%22%29%2C%0A%20%20sales%20%3D%20c%28100%2C%20150%2C%208%2C%2058%2C%2090%29%0A%29%0A%0Afruit_data%24sales_color%20%3C-%20map%28fruit_data%24sales%2C%20categorize_and_color%29%0A%0Aggplot%28data%20%3D%20fruit_data%2C%20aes%28x%20%3D%20fruit%2C%20%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%20%3D%20sales%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20fill%20%3D%20sales_color%29%29%20%2B%20%0A%20%20geom_col%28%29' frameborder='0'></iframe></div></div></div></body></html>
